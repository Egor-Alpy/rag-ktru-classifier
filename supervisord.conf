[supervisord]
nodaemon=true
user=root
logfile=/workspace/rag-ktru-classifier/logs/supervisord.log
logfile_maxbytes=50MB
logfile_backups=10

[program:qdrant]
command=/workspace/rag-ktru-classifier/qdrant --config-path /workspace/rag-ktru-classifier/config.yaml
directory=/workspace/rag-ktru-classifier
stdout_logfile=/workspace/rag-ktru-classifier/logs/qdrant.log
stderr_logfile=/workspace/rag-ktru-classifier/logs/qdrant_error.log
autostart=true
autorestart=true
startretries=5
environment=RUST_LOG=info

[program:mongodb_sync]
command=python /workspace/rag-ktru-classifier/mongodb_sync.py
directory=/workspace/rag-ktru-classifier
stdout_logfile=/workspace/rag-ktru-classifier/logs/mongodb_sync.log
stderr_logfile=/workspace/rag-ktru-classifier/logs/mongodb_sync_error.log
autostart=true
autorestart=true
startretries=5

[program:api]
command=python /workspace/rag-ktru-classifier/api.py
directory=/workspace/rag-ktru-classifier
stdout_logfile=/workspace/rag-ktru-classifier/logs/api.log
stderr_logfile=/workspace/rag-ktru-classifier/logs/api_error.log
autostart=true
autorestart=true
startretries=5